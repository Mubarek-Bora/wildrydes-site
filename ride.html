<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Wild Rydes - Ride</title>
  <link rel="stylesheet" href="style.css" />
  <script src="env.js"></script>
  <script src="https://unpkg.com/aws-amplify@5.0.4/dist/aws-amplify.min.js"></script>
  <script src="aws-exports.js"></script>
  <script>
    function loadGoogleMaps() {
      const apiKey = window.ENV?.GOOGLE_MAPS_KEY;
      if (!apiKey) {
        console.error("âŒ Google Maps API key not found in env.js");
        return;
      }
      const script = document.createElement("script");
      script.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey}&libraries=places&callback=initMap`;
      script.async = true;
      script.defer = true;
      document.head.appendChild(script);
    }
    window.onload = loadGoogleMaps;
  </script>
</head>

<body
  style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 20px;">
  <div class="ride-form"
    style="background: #fff; border-radius: 20px; box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1); padding: 30px; width: 100%; max-width: 800px; min-height: 600px;">
    <h1
      style="text-align: center; color: #333; margin-bottom: 30px; font-size: 2.5em; background: linear-gradient(45deg, #667eea, #764ba2); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
      ğŸš— Wild Rydes</h1>
    <form id="rideRequest"
      style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px; align-items: center;">
      <input id="pickup" placeholder="ğŸ“ Pickup Location" autocomplete="off"
        style="padding: 15px 20px; border: 2px solid #e1e5e9; border-radius: 10px; font-size: 16px; background: #fff;" />
      <input id="dropoff" placeholder="ğŸ¯ Dropoff Location" autocomplete="off"
        style="padding: 15px 20px; border: 2px solid #e1e5e9; border-radius: 10px; font-size: 16px; background: #fff;" />
      <button type="submit"
        style="grid-column: 1/-1; padding: 15px 30px; background: linear-gradient(45deg, #667eea, #764ba2); color: #fff; border: none; border-radius: 10px; font-size: 18px; font-weight: 600; cursor: pointer;">ğŸš€
        Book My Ride</button>
    </form>

    <div id="rideInfo" class="ride-info"
      style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 20px 0; display: none;">
      <h3>ğŸ‰ Ride Booked Successfully!</h3>
      <p><strong>Pickup:</strong> <span id="confirmedPickup"></span></p>
      <p><strong>Dropoff:</strong> <span id="confirmedDropoff"></span></p>
      <p><strong>Estimated Time:</strong> <span id="estimatedTime"></span></p>
      <p><strong>Driver:</strong> <span id="driverName"></span></p>
    </div>

    <div id="map"
      style="width: 100%; height: 400px; border-radius: 15px; box-shadow: 0 10px 25px rgba(0, 0, 0, .1); border: 3px solid #f8f9fa; overflow: hidden;">
    </div>
    <div id="status"></div>
  </div>

  <script src="js/map.js"></script>
  <script type="module" src="ride.js"></script>
</body>

</html>